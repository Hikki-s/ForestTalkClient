(self.webpackChunkForestTalkClient=self.webpackChunkForestTalkClient||[]).push([[30],{4030:(k,m,g)=>{"use strict";g.r(m),g.d(m,{newsFeedRoutes:()=>dt});var C=g(177),_=g(4937),i=g(4438);let n=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275cmp=i.VBU({type:t,selectors:[["app-news-feed"]],standalone:!0,features:[i.aNF],decls:4,vars:0,template:function(a,l){1&a&&(i.j41(0,"div")(1,"h1"),i.EFF(2,"News Feed"),i.k0s(),i.nrm(3,"router-outlet"),i.k0s())},dependencies:[C.MD,_.n3],changeDetection:0})}return t})();var w=g(1413),F=g(3709),d=g(3252),h=g(1153);let c=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=i.VBU({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-card"],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(a,l){},styles:["[tuiCardMedium],[tuiCardLarge]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;position:relative;display:flex;align-items:flex-start;flex-shrink:0;text-decoration:none;overscroll-behavior:contain;overflow:hidden}[tuiCardMedium][tuiTitle],[tuiCardLarge][tuiTitle],[tuiCardMedium] [tuiTitle]:not([tuiCell] *):not([tuiLabel] *),[tuiCardLarge] [tuiTitle]:not([tuiCell] *):not([tuiLabel] *){font-weight:700}[tuiCardMedium] [tuiTitle],[tuiCardLarge] [tuiTitle],[tuiCardMedium] [tuiSubtitle],[tuiCardLarge] [tuiSubtitle]{max-inline-size:100%}[tuiCardMedium]>*,[tuiCardLarge]>*{scrollbar-width:none;-ms-overflow-style:none}[tuiCardMedium]>*::-webkit-scrollbar,[tuiCardLarge]>*::-webkit-scrollbar,[tuiCardMedium]>*::-webkit-scrollbar-thumb,[tuiCardLarge]>*::-webkit-scrollbar-thumb{display:none}[tuiCardMedium]{inline-size:8.75rem;block-size:8.75rem;flex-direction:column;justify-content:space-between;padding:.75rem;border-radius:var(--tui-radius-l);box-sizing:border-box}[tuiCardMedium][tuiTitle]{padding:.625rem .75rem}[tuiCardMedium] [tuiTitle]{margin:-.125rem 0}[tuiCardMedium] [tuiSubtitle]{color:var(--tui-text-primary)}[tuiCardLarge][data-space]{--t-space: .75rem;--t-radius: var(--tui-radius-l);--t-comp: -.25rem;--t-padding: .75rem;--t-dim: calc(var(--t-padding) + var(--t-comp));font:var(--tui-font-text-m);padding:var(--t-padding);border-radius:var(--t-radius);box-sizing:border-box}[tuiCardLarge][data-space][data-space=normal]{--t-radius: 1.5rem;--t-padding: 1.5rem;--t-space: 1.5rem}[tuiCardLarge][data-space][data-space=compact]{--t-radius: 1rem;--t-padding: 1.25rem;--t-space: 1.25rem}[tuiCardLarge][data-space]:not([tuiCell],[tuiHeader]){flex-direction:column;gap:var(--t-space);align-items:stretch}[tuiCardLarge][data-space]:not([tuiCell],[tuiHeader])>:last-child:not([tuiCell]){margin-top:auto}[tuiCardLarge][data-space][tuiHeader]{padding:var(--t-dim) var(--t-dim) var(--t-dim) var(--t-padding)}[tuiCardLarge][data-space][tuiHeader] [tuiLink]:last-child{margin-right:calc(-1 * var(--t-comp))}[tuiCardLarge][data-space]>[tuiHeader]{margin:var(--t-comp) var(--t-comp) calc(1.5 * var(--t-comp)) 0}[tuiCardLarge][data-space]>[tuiHeader] [tuiLink]:last-child{margin-right:calc(-1 * var(--t-comp))}[tuiCardLarge][data-space] [tuiCell]{inline-size:-webkit-fill-available;inline-size:-moz-available;inline-size:stretch;padding:.5rem;margin:-.5rem -.5rem -.75rem;border-radius:var(--tui-radius-l)}[tuiCardLarge][data-space] [tuiCell]:last-of-type{margin-bottom:-.5rem}[tuiCardLarge][data-space]>[tuiLink]:last-child{display:block;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;margin-bottom:var(--t-comp)}\n"],encapsulation:2,changeDetection:0})}}return t})(),f=(()=>{class t{constructor(){this.nothing=(0,h.Ty)(c),this.space="normal"}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275dir=i.FsC({type:t,selectors:[["","tuiCardLarge",""]],hostAttrs:["tuiCardLarge",""],hostVars:1,hostBindings:function(a,l){2&a&&i.BMQ("data-space",l.space||"normal")},inputs:{space:[0,"tuiCardLarge","space"]},standalone:!0})}}return t})();var o=g(5084),u=g(1856);const $={appearance:"",round:!0,size:"l"},z=(0,h.gc)($);function G(t){return(0,h.eC)(z,t,$)}const Y={size:"m",appearance:t=>t.checked||t.indeterminate?"primary":"whiteblock",icons:{checked:"@tui.check",indeterminate:"@tui.minus"}},J=(0,h.gc)(Y);function K(t){return(0,h.eC)(J,t,Y)}const V={showIcons:!0,size:"m",icon:"@tui.check",appearance:t=>t.checked?"primary":"secondary"},Z=(0,h.gc)(V);function q(t){return(0,h.eC)(Z,t,V)}const U=(0,h.gc)({appearance:"neutral",size:"s"});let tt=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=i.VBU({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-chip"],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(a,l){},styles:["tui-chip,[tuiChip]{--t-gap: .125rem;--t-margin: -.125rem;--t-icon-size: 1rem;--t-padding: 0 .625rem;--t-size: var(--tui-height-s);-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, var(--t-0, 0rem)) - 2 * var(--t-margin, 0rem));font:var(--tui-font-text-s);border-radius:var(--tui-radius-m);padding:var(--t-padding);block-size:var(--t-size);inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;isolation:isolate}tui-chip>img,[tuiChip]>img,tui-chip>tui-svg,[tuiChip]>tui-svg,tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip>tui-avatar,[tuiChip]>tui-avatar,tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge],tui-chip>[tuiRadio],[tuiChip]>[tuiRadio],tui-chip>[tuiSwitch],[tuiChip]>[tuiSwitch],tui-chip>[tuiCheckbox],[tuiChip]>[tuiCheckbox],tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{margin:var(--t-margin)}tui-chip:-webkit-any(a,button,select,textarea,input,label),[tuiChip]:-webkit-any(a,button,select,textarea,input,label){cursor:pointer}tui-chip:-moz-any(a,button,select,textarea,input,label),[tuiChip]:-moz-any(a,button,select,textarea,input,label){cursor:pointer}tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{font-size:var(--t-icon-size)!important}tui-chip>[tuiIconButton],[tuiChip]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=xxs],[tuiChip][data-size=xxs]{--t-gap: var(--t-0, 0rem);--t-padding: 0 .25rem;--t-size: 1rem;--t-icon-size: .75rem;font:var(--tui-font-text-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xxs]>[tuiIconButton],[tuiChip][data-size=xxs]>[tuiIconButton]{margin:-.5rem;transform:scale(.75)}tui-chip[data-size=xs],[tuiChip][data-size=xs]{--t-padding: 0 .375rem;--t-size: var(--tui-height-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xs]>[tuiIconButton],[tuiChip][data-size=xs]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=m],[tuiChip][data-size=m]{--t-margin: -.375rem;--t-icon-size: 1.5rem;--t-padding: 0 1rem;--t-size: var(--tui-height-m);font:var(--tui-font-text-m)}tui-chip[data-size=m]>[tuiIconButton],[tuiChip][data-size=m]>[tuiIconButton]{margin:-.75rem}tui-chip>img,[tuiChip]>img,tui-chip tui-avatar,[tuiChip] tui-avatar{inline-size:1.5rem;margin-inline-start:-.375rem}tui-chip>input[tuiChip],[tuiChip]>input[tuiChip]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;z-index:-1;margin:0}tui-chip[tuiAppearance][data-appearance=error],[tuiChip][tuiAppearance][data-appearance=error],tui-chip[tuiAppearance][data-appearance=success],[tuiChip][tuiAppearance][data-appearance=success],tui-chip[tuiAppearance][data-appearance=warning],[tuiChip][tuiAppearance][data-appearance=warning],tui-chip[tuiAppearance][data-appearance=info],[tuiChip][tuiAppearance][data-appearance=info],tui-chip[tuiAppearance][data-appearance=neutral],[tuiChip][tuiAppearance][data-appearance=neutral]{color:var(--tui-text-primary)}\n"],encapsulation:2,changeDetection:0})}}return t})(),et=(()=>{class t{constructor(){this.options=(0,i.WQX)(U),this.nothing=(0,h.Ty)(tt),this.size=this.options.size}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275dir=i.FsC({type:t,selectors:[["tui-chip"],["","tuiChip",""]],hostVars:1,hostBindings:function(a,l){2&a&&i.BMQ("data-size",l.size)},inputs:{size:"size"},standalone:!0,features:[i.Jv_([(0,d.mr)(U),q({size:"s"}),K({size:"s"}),G({size:"xs"}),(0,o.e)({size:"xs",appearance:"icon"})]),i.nM4([d.tF,u.Z])]})}}return t})();var B=g(1562),it=g(4412),A=g(9437),S=g(7673),at=g(6354);const r="http://localhost:3000",E={AUTH_REGISTER:`${r}/auth/register`,AUTH_LOGIN:`${r}/auth/login`,AUTH_REFRESH:`${r}/auth/refresh`,AUTH_LOGOUT:`${r}/auth/logout`,GET_USER_BY_ID:t=>`${r}/users/${t}`,CREATE_USER:`${r}/users`,UPDATE_USER_BY_ID:t=>`${r}/users/${t}`,DELETE_USER_BY_ID:t=>`${r}/users/${t}`,GET_USER_GALLERY:t=>`${r}/users/${t}/gallery`,ADD_IMAGE_TO_GALLERY:t=>`${r}/users/${t}/gallery`,DELETE_IMAGE_FROM_GALLERY:(t,s)=>`${r}/users/${t}/gallery/${s}`,GET_PROFILE_SETTINGS:t=>`${r}/users/${t}/profile`,UPDATE_PROFILE_SETTINGS:t=>`${r}/users/${t}/profile`,GET_FRIENDS_LIST:t=>`${r}/users/${t}/friends`,ADD_FRIEND:t=>`${r}/users/${t}/friends`,UPDATE_FRIEND_STATUS:(t,s)=>`${r}/users/${t}/friends/${s}`,GET_POST_BY_ID:t=>`${r}/posts/${t}`,CREATE_POST:`${r}/posts`,UPDATE_POST:t=>`${r}/posts/${t}`,DELETE_POST:t=>`${r}/posts/${t}`,ADD_MEDIA_TO_POST:t=>`${r}/posts/${t}/media`,DELETE_MEDIA_FROM_POST:(t,s)=>`${r}/posts/${t}/media/${s}`,GET_POST_COMMENTS:t=>`${r}/posts/${t}/comments`,ADD_COMMENT_TO_POST:t=>`${r}/posts/${t}/comments`,UPDATE_COMMENT:t=>`${r}/comments/${t}`,DELETE_COMMENT:t=>`${r}/comments/${t}`,ADD_LIKE_TO_POST:t=>`${r}/posts/${t}/likes`,DELETE_LIKE_FROM_POST:(t,s)=>`${r}/posts/${t}/likes/${s}`,GET_COMMUNITIES:`${r}/communities`,GET_COMMUNITY_BY_ID:t=>`${r}/communities/${t}`,CREATE_COMMUNITY:`${r}/communities`,UPDATE_COMMUNITY_BY_ID:t=>`${r}/communities/${t}`,DELETE_COMMUNITY_BY_ID:t=>`${r}/communities/${t}`,GET_COMMUNITY_MEMBERS:t=>`${r}/communities/${t}/members`,ADD_MEMBER_TO_COMMUNITY:t=>`${r}/communities/${t}/members`,UPDATE_MEMBER_ROLE:(t,s)=>`${r}/communities/${t}/members/${s}`,REMOVE_MEMBER_FROM_COMMUNITY:(t,s)=>`${r}/communities/${t}/members/${s}`,GET_COMMUNITY_GALLERY:t=>`${r}/communities/${t}/gallery`,ADD_IMAGE_TO_COMMUNITY_GALLERY:t=>`${r}/communities/${t}/gallery`,DELETE_IMAGE_FROM_COMMUNITY_GALLERY:(t,s)=>`${r}/communities/${t}/gallery/${s}`,GET_COMMUNITY_SETTINGS:t=>`${r}/communities/${t}/settings`,UPDATE_COMMUNITY_SETTINGS:t=>`${r}/communities/${t}/settings`,GET_FEED:`${r}/feed`,GET_FEED_BY_ID:t=>`${r}/feed/${t}`};var O=g(282),D=function(t){return t.DEBUG="DEBUG",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t}(D||{});const L=(t,s)=>({message:"string"==typeof t?t:JSON.stringify(t,null,2),logLevel:s});let j=(()=>{class t{d;i;w;e;constructor(){this.d=(0,O.debug)("api:debug"),this.i=(0,O.debug)("api:info"),this.w=(0,O.debug)("api:warn"),this.e=(0,O.debug)("api:error")}debug(e){this.d("%j",L(e,D.DEBUG))}info(e){this.i("%j",L(e,D.INFO))}warn(e){this.w("%j",L(e,D.WARN))}error(e){this.e("%j",L(e,D.ERROR))}enableLogging(e){O.debug.enable(`${e.toLowerCase()}:*`)}disableLogging(){O.debug.disable()}static \u0275fac=function(a){return new(a||t)};static \u0275prov=i.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Q=(()=>{class t{http=(0,i.WQX)(B.Qq);logger=(0,i.WQX)(j);postsSubject=new it.t([]);posts$=this.postsSubject.asObservable();getFeed(e,a){this.http.get(E.GET_FEED,{params:{offset:e,limit:a}}).pipe((0,at.T)(x=>{const pt=this.postsSubject.getValue();return this.postsSubject.next([...pt,...x]),x}),(0,A.W)(x=>(this.logger.error(`Error fetching posts: ${x}`),(0,S.of)([])))).subscribe()}static \u0275fac=function(a){return new(a||t)};static \u0275prov=i.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const nt=(t,s)=>s.id;function rt(t,s){if(1&t&&(i.j41(0,"div",1)(1,"div",2)(2,"div",3),i.EFF(3),i.k0s(),i.j41(4,"div",3),i.EFF(5),i.k0s()(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&t){const e=s.$implicit;i.R7$(3),i.JRh(e.owner.ownerName),i.R7$(2),i.JRh(e.createdAt),i.R7$(2),i.JRh(e.content)}}function ot(t,s){1&t&&(i.j41(0,"tui-notification"),i.EFF(1," No posts available. "),i.k0s())}function st(t,s){1&t&&i.Z7z(0,rt,8,3,"div",1,nt,!1,ot,2,0,"tui-notification"),2&t&&i.Dyx(s)}let ct=(()=>{class t{offset=0;limit=1;newsFeedService=(0,i.WQX)(Q);destroy$=new w.B;posts$=this.newsFeedService.posts$;onScroll(){this.loadPosts()}ngOnInit(){this.loadPosts()}loadPosts(){this.newsFeedService.getFeed(this.offset,this.limit)}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=i.VBU({type:t,selectors:[["app-news-post-list"]],standalone:!0,features:[i.aNF],decls:3,vars:3,consts:[["tuiCardLarge","","tuiAppearance","floating",1,"news-feed-container",3,"scroll"],["tuiCardLarge","","tuiAppearance","floating"],[1,"post-meta"],["tuiChip",""]],template:function(a,l){if(1&a&&(i.j41(0,"div",0),i.bIt("scroll",function(){return l.onScroll()}),i.DNE(1,st,3,1),i.nI1(2,"async"),i.k0s()),2&a){let x;i.R7$(),i.vxM((x=i.bMT(2,1,l.posts$))?1:-1,x)}},dependencies:[C.MD,C.Jj,F.wS,f,et,d.bC],changeDetection:0})}return t})(),ut=(()=>{class t{http=(0,i.WQX)(B.Qq);logger=(0,i.WQX)(j);getComments(e){return this.http.get(E.GET_POST_COMMENTS(e.toString())).pipe((0,A.W)(a=>(this.logger.error(`Error fetching comments for post ${e}: ${a}`),(0,S.of)([]))))}addComment(e,a){return this.http.post(E.ADD_COMMENT_TO_POST(e.toString()),a).pipe((0,A.W)(l=>(this.logger.error(`Error adding comment to post ${e}: ${l}`),(0,S.of)(null))))}updateComment(e,a){return this.http.patch(E.UPDATE_COMMENT(e.toString()),{content:a}).pipe((0,A.W)(l=>(this.logger.error(`Error updating comment ${e}: ${l}`),(0,S.of)(null))))}deleteComment(e){return this.http.delete(E.DELETE_COMMENT(e.toString())).pipe((0,A.W)(a=>(this.logger.error(`Error deleting comment ${e}: ${a}`),(0,S.of)(null))))}static \u0275fac=function(a){return new(a||t)};static \u0275prov=i.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lt=(()=>{class t{http=(0,i.WQX)(B.Qq);logger=(0,i.WQX)(j);addLike(e){return this.http.post(E.ADD_LIKE_TO_POST(e.toString()),{}).pipe((0,A.W)(a=>(this.logger.error(`Error adding like to post ${e}: ${a}`),(0,S.of)(null))))}removeLike(e,a){return this.http.delete(E.DELETE_LIKE_FROM_POST(e.toString(),a.toString())).pipe((0,A.W)(l=>(this.logger.error(`Error removing like ${a} from post ${e}: ${l}`),(0,S.of)(null))))}static \u0275fac=function(a){return new(a||t)};static \u0275prov=i.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dt=[{path:"",component:n,children:[{path:"",component:ct,children:[{path:":id",component:(()=>{class t{post;newsFeedService=(0,i.WQX)(Q);commentService=(0,i.WQX)(ut);likeService=(0,i.WQX)(lt);route=(0,i.WQX)(_.nX);ngOnInit(){Number(this.route.snapshot.paramMap.get("postId"))}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=i.VBU({type:t,selectors:[["app-news-post"]],standalone:!0,features:[i.aNF],decls:2,vars:0,template:function(a,l){1&a&&(i.j41(0,"p"),i.EFF(1,"news-post works!"),i.k0s())},dependencies:[C.MD],changeDetection:0})}return t})()}]}]}]},282:(k,m,g)=>{m.formatArgs=function _(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+k.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;d.splice(1,0,h,"color: inherit");let c=0,p=0;d[0].replace(/%[a-zA-Z%]/g,f=>{"%%"!==f&&(c++,"%c"===f&&(p=c))}),d.splice(p,0,h)},m.save=function i(d){try{d?m.storage.setItem("debug",d):m.storage.removeItem("debug")}catch{}},m.load=function n(){let d;try{d=m.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=process.env.DEBUG),d},m.useColors=function C(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},m.storage=function w(){try{return localStorage}catch{}}(),m.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],m.log=console.debug||console.log||(()=>{}),k.exports=g(741)(m);const{formatters:F}=k.exports;F.j=function(d){try{return JSON.stringify(d)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}},741:(k,m,g)=>{k.exports=function C(_){function n(o){let u,M,N,v=null;function b(...T){if(!b.enabled)return;const y=b,I=Number(new Date);y.diff=I-(u||I),y.prev=u,y.curr=I,u=I,T[0]=n.coerce(T[0]),"string"!=typeof T[0]&&T.unshift("%O");let z=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(P,H)=>{if("%%"===P)return"%";z++;const R=n.formatters[H];return"function"==typeof R&&(P=R.call(y,T[z]),T.splice(z,1),z--),P}),n.formatArgs.call(y,T),(y.log||n.log).apply(y,T)}return b.namespace=o,b.useColors=n.useColors(),b.color=n.selectColor(o),b.extend=w,b.destroy=n.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==v?v:(M!==n.namespaces&&(M=n.namespaces,N=n.enabled(o)),N),set:T=>{v=T}}),"function"==typeof n.init&&n.init(b),b}function w(o,u){const v=n(this.namespace+(typeof u>"u"?":":u)+o);return v.log=this.log,v}function c(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function p(o){return o instanceof Error?o.stack||o.message:o},n.disable=function d(){const o=[...n.names.map(c),...n.skips.map(c).map(u=>"-"+u)].join(",");return n.enable(""),o},n.enable=function F(o){let u;n.save(o),n.namespaces=o,n.names=[],n.skips=[];const v=("string"==typeof o?o:"").split(/[\s,]+/),M=v.length;for(u=0;u<M;u++)v[u]&&("-"===(o=v[u].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+o.slice(1)+"$")):n.names.push(new RegExp("^"+o+"$")))},n.enabled=function h(o){if("*"===o[o.length-1])return!0;let u,v;for(u=0,v=n.skips.length;u<v;u++)if(n.skips[u].test(o))return!1;for(u=0,v=n.names.length;u<v;u++)if(n.names[u].test(o))return!0;return!1},n.humanize=g(3244),n.destroy=function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(_).forEach(o=>{n[o]=_[o]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function i(o){let u=0;for(let v=0;v<o.length;v++)u=(u<<5)-u+o.charCodeAt(v),u|=0;return n.colors[Math.abs(u)%n.colors.length]},n.enable(n.load()),n}},3244:k=>{var m=1e3,g=60*m,C=60*g,_=24*C,i=7*_;function h(c,p,f,o){var u=p>=1.5*f;return Math.round(c/f)+" "+o+(u?"s":"")}k.exports=function(c,p){p=p||{};var f=typeof c;if("string"===f&&c.length>0)return function w(c){if(!((c=String(c)).length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(p){var f=parseFloat(p[1]);switch((p[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*f;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*_;case"hours":case"hour":case"hrs":case"hr":case"h":return f*C;case"minutes":case"minute":case"mins":case"min":case"m":return f*g;case"seconds":case"second":case"secs":case"sec":case"s":return f*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}(c);if("number"===f&&isFinite(c))return p.long?function d(c){var p=Math.abs(c);return p>=_?h(c,p,_,"day"):p>=C?h(c,p,C,"hour"):p>=g?h(c,p,g,"minute"):p>=m?h(c,p,m,"second"):c+" ms"}(c):function F(c){var p=Math.abs(c);return p>=_?Math.round(c/_)+"d":p>=C?Math.round(c/C)+"h":p>=g?Math.round(c/g)+"m":p>=m?Math.round(c/m)+"s":c+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))}}}]);